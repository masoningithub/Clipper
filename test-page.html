<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Draft Saver - æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #3498db;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        .section {
            margin: 20px 0;
            padding: 15px;
            background: #f9f9f9;
            border-left: 4px solid #3498db;
        }
        label {
            display: block;
            margin: 10px 0 5px 0;
            font-weight: bold;
        }
        input[type="text"],
        input[type="email"],
        input[type="url"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            border: 2px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            box-sizing: border-box;
        }
        textarea {
            min-height: 100px;
            font-family: inherit;
        }
        .checkbox-group,
        .radio-group {
            margin: 10px 0;
        }
        .checkbox-group label,
        .radio-group label {
            display: inline-block;
            margin-right: 15px;
            font-weight: normal;
        }
        .status {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background: #27ae60;
            color: white;
            border-radius: 6px;
            display: none;
            z-index: 10000;
        }
        .instructions {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        .instructions h3 {
            margin-top: 0;
            color: #856404;
        }
        .instructions ol {
            margin: 10px 0;
            padding-left: 20px;
        }
        .debug-info {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            padding: 15px;
            border-radius: 4px;
            margin-top: 20px;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª Universal Draft Saver - æµ‹è¯•é¡µé¢</h1>

        <div class="instructions">
            <h3>ğŸ“‹ ä½¿ç”¨è¯´æ˜ï¼š</h3>
            <ol>
                <li><strong>ç¡®è®¤æ‰©å±•å·²åŠ è½½ï¼š</strong> åœ¨ chrome://extensions/ é¡µé¢æ£€æŸ¥æ‰©å±•æ˜¯å¦å·²å¯ç”¨</li>
                <li><strong>æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼š</strong> æŒ‰ F12 æ‰“å¼€æ§åˆ¶å°ï¼ˆConsoleï¼‰</li>
                <li><strong>å¡«å†™è¡¨å•ï¼š</strong> åœ¨ä¸‹æ–¹ä»»æ„å­—æ®µè¾“å…¥å†…å®¹</li>
                <li><strong>ç­‰å¾…3ç§’ï¼š</strong> æ–‡æœ¬å­—æ®µä¼šè‡ªåŠ¨ä¿å­˜ï¼ˆæ§åˆ¶å°ä¼šæ˜¾ç¤ºæ—¥å¿—ï¼‰</li>
                <li><strong>åˆ·æ–°é¡µé¢ï¼š</strong> å³ä¸‹è§’ä¼šå‡ºç°æ¢å¤æç¤º</li>
                <li><strong>æŸ¥çœ‹æ§åˆ¶å°ï¼š</strong> å¯»æ‰¾ [AutoSave] æˆ– [RestorePrompt] å¼€å¤´çš„æ—¥å¿—</li>
            </ol>
        </div>

        <div class="section">
            <h2>ğŸ“ æ–‡æœ¬è¾“å…¥æµ‹è¯•</h2>

            <label for="title">æ ‡é¢˜ (è‡³å°‘è¾“å…¥3ä¸ªå­—ç¬¦)ï¼š</label>
            <input type="text" id="title" name="title" placeholder="è¾“å…¥æ ‡é¢˜...">

            <label for="email">é‚®ç®±ï¼š</label>
            <input type="email" id="email" name="email" placeholder="your@email.com">

            <label for="website">ç½‘ç«™ï¼š</label>
            <input type="url" id="website" name="website" placeholder="https://example.com">

            <label for="age">å¹´é¾„ï¼š</label>
            <input type="number" id="age" name="age" min="1" max="120" placeholder="25">

            <label for="description">æè¿° (textareaå¤§äº150pxä¼šä¼˜å…ˆä¿å­˜)ï¼š</label>
            <textarea id="description" name="description" rows="6" placeholder="è¾“å…¥è¯¦ç»†æè¿°..."></textarea>
        </div>

        <div class="section">
            <h2>ğŸ“‹ é€‰æ‹©æµ‹è¯•</h2>

            <label for="category">ç±»åˆ«ï¼š</label>
            <select id="category" name="category">
                <option value="">è¯·é€‰æ‹©...</option>
                <option value="tech">æŠ€æœ¯</option>
                <option value="life">ç”Ÿæ´»</option>
                <option value="work">å·¥ä½œ</option>
                <option value="study">å­¦ä¹ </option>
            </select>

            <label for="tags">æ ‡ç­¾ (å¤šé€‰)ï¼š</label>
            <select id="tags" name="tags" multiple size="4">
                <option value="html">HTML</option>
                <option value="css">CSS</option>
                <option value="js">JavaScript</option>
                <option value="python">Python</option>
            </select>
        </div>

        <div class="section">
            <h2>â˜‘ï¸ å¤é€‰æ¡†æµ‹è¯•</h2>
            <div class="checkbox-group">
                <label><input type="checkbox" name="interests" value="reading"> é˜…è¯»</label>
                <label><input type="checkbox" name="interests" value="sports"> è¿åŠ¨</label>
                <label><input type="checkbox" name="interests" value="music"> éŸ³ä¹</label>
                <label><input type="checkbox" name="interests" value="travel"> æ—…è¡Œ</label>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ”˜ å•é€‰æŒ‰é’®æµ‹è¯•</h2>
            <div class="radio-group">
                <label><input type="radio" name="gender" value="male"> ç”·</label>
                <label><input type="radio" name="gender" value="female"> å¥³</label>
                <label><input type="radio" name="gender" value="other"> å…¶ä»–</label>
            </div>
        </div>

        <div class="debug-info" id="debug-info">
            <strong>ğŸ” è°ƒè¯•ä¿¡æ¯ï¼š</strong><br>
            <span id="extension-status">æ£€æŸ¥æ‰©å±•çŠ¶æ€...</span><br>
            <span id="event-log">ç­‰å¾…äº‹ä»¶...</span>
        </div>
    </div>

    <div class="status" id="status"></div>

    <script>
        // å®¢æˆ·ç«¯è°ƒè¯•è„šæœ¬
        let eventCount = 0;

        // ç›‘å¬æ‰€æœ‰inputäº‹ä»¶
        document.addEventListener('input', function(e) {
            eventCount++;
            const target = e.target;
            const info = `[${eventCount}] Inputäº‹ä»¶: ${target.tagName} #${target.id || target.name} = "${target.value.substring(0, 20)}..."`;
            console.log('%c' + info, 'color: green; font-weight: bold');
            updateDebugInfo(info);
            showStatus('æ£€æµ‹åˆ°è¾“å…¥: ' + (target.id || target.name || target.tagName));
        });

        // ç›‘å¬changeäº‹ä»¶
        document.addEventListener('change', function(e) {
            eventCount++;
            const target = e.target;
            let value = target.value;
            if (target.type === 'checkbox' || target.type === 'radio') {
                value = target.checked ? 'checked' : 'unchecked';
            }
            const info = `[${eventCount}] Changeäº‹ä»¶: ${target.tagName} #${target.id || target.name} = ${value}`;
            console.log('%c' + info, 'color: blue; font-weight: bold');
            updateDebugInfo(info);
            showStatus('æ£€æµ‹åˆ°æ”¹å˜: ' + (target.id || target.name || target.tagName));
        });

        function updateDebugInfo(message) {
            const eventLog = document.getElementById('event-log');
            eventLog.textContent = message;
        }

        function showStatus(message) {
            const status = document.getElementById('status');
            status.textContent = message;
            status.style.display = 'block';
            setTimeout(() => {
                status.style.display = 'none';
            }, 2000);
        }

        // æ£€æŸ¥æ‰©å±•æ˜¯å¦åŠ è½½
        window.addEventListener('load', function() {
            setTimeout(function() {
                const statusEl = document.getElementById('extension-status');

                // æ£€æŸ¥chromeå¯¹è±¡æ˜¯å¦å­˜åœ¨
                if (typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.id) {
                    statusEl.innerHTML = 'âœ… Chromeæ‰©å±•APIå¯ç”¨<br>æ‰©å±•ID: ' + chrome.runtime.id;
                    statusEl.style.color = 'green';
                } else {
                    statusEl.innerHTML = 'âŒ Chromeæ‰©å±•APIä¸å¯ç”¨';
                    statusEl.style.color = 'red';
                }

                // æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—
                console.log('%c===== Universal Draft Saver æµ‹è¯•é¡µé¢ =====', 'color: blue; font-size: 16px; font-weight: bold');
                console.log('%cå¦‚æœä½ çœ‹åˆ° [AutoSave] æ—¥å¿—ï¼Œè¯´æ˜æ‰©å±•æ­£åœ¨å·¥ä½œ', 'color: green');
                console.log('%cå¦‚æœ3ç§’å†…æ²¡æœ‰çœ‹åˆ°ä»»ä½•æ—¥å¿—ï¼Œè¯·æ£€æŸ¥ï¼š', 'color: orange');
                console.log('1. æ‰©å±•æ˜¯å¦åœ¨ chrome://extensions/ ä¸­å¯ç”¨');
                console.log('2. æ˜¯å¦ç‚¹å‡»äº†æ‰©å±•çš„åˆ·æ–°æŒ‰é’®');
                console.log('3. æ˜¯å¦åˆ·æ–°äº†è¿™ä¸ªé¡µé¢');
                console.log('4. æ§åˆ¶å°æ˜¯å¦æœ‰JavaScripté”™è¯¯ï¼ˆçº¢è‰²ï¼‰');
            }, 1000);
        });
    </script>
</body>
</html>
